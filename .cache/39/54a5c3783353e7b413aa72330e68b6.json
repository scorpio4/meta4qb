{"id":"ulG9","dependencies":[{"name":"/Users/lee/Projects/troven/meta4qb/package.json","includedInParent":true,"mtime":1562901909708}],"generated":{"js":"var define;\nvar e;e([\"backbone\",\"colorbrewer\",\"dc\",\"d3\",\"qb\"],function(e,n,o,r,t){var s={};return _.extend(s,{options:{el:\"body\",css:{root:\"qb-root container\",dash:\"qb-dash container\",header:\"qb-header\",chart:\"qb-chart\"}},_qbs:{},init:function(e){_.extend(s.options,e);var n=s.options.el=s._createContainerElement(s.options);return n.addClass(s.options.css.root),console.log(\"Loaded QBS(): %o %o %o\",n,s,s.options),_.each(this.options.qbs,function(e,o){e.id=e.id||\"qbd_\"+o,e.el=s._createContainerElement(e),n.append(e.el),e.el.addClass(s.options.css.dash),e.header&&e.el.append($(\"<div/>\").addClass(s.options.css.header).html(e.header)),console.log(\"Dashboard: \",o,e.id,e.url,e);var t=e.responseAccessor||s.options.responseAccessor,i=e.responseType||\"json\";e.url&&r[i]&&r[i](e.url,function(n){var r=t?t(n):n;console.log(\"Loaded data: \",e.id,r);var i=s.register.qb(e.id,e);i.load(r),_.each(e.charts,function(n,r){n.id=n.id||\"qbd-\"+o+\"_\"+r,n.el=s._createContainerElement(n),n.el.addClass(s.options.css.chart),e.el.append(n.el);var t=i.draw(n.type,n);if(e.filters&&_.isString(n.dimension)){var a=e.filters[n.dimension];_.each(a,function(e){t.filter(e)}),console.log(\"preset-filter: \",n.id,a)}}),i.render()})}),this},qb:function(e){if(!e)throw\"dash:qb:anonymous\";var n=s._qbs[e];if(!n)throw\"dash:qb:missing#\"+e;return n},register:{qb:function(e,n){if(!e)throw\"dash:register:qb:missing:id\";if(!n)throw\"dash:register:qb:missing:config\";s._qbs[e]=t(n);var o=s.qb(e);return console.log(\"registered qb(): \",e,o),_.each(s.options.labels,function(e,n){o.register.labels(n,e)}),o}},chart:function(e,n,o,r){var t=s.qb(e),i=t.draw(n,o,r);return console.log(\"dash chart()\",i,e,t,n,o,r),i},render:function(){_.each(s._qbs,function(e){e.reset()})},_renderQBs:function(e){return $(\"[data-qb]\",$(e)).each(function(){var e=$(this).data(),n=e.qb,o=s.qb(n);o&&e.type&&e.measure&&e.dimension&&(e.el=$(this),o.draw(e.type,e))}),this},_createContainerElement:function(e){var n=e.el&&$(e.el);return n&&n.length||(n=$(\"<div/>\"),e.id&&n.attr(\"id\",e.id)),n}}),function(e){return console.log(\"New Dashboard:\",o,s,e),s.init(e)}});"},"sourceMaps":{"js":{"mappings":[{"source":"qbs.js","original":{"line":1,"column":0},"generated":{"line":2,"column":0}},{"source":"qbs.js","original":{"line":1,"column":0},"generated":{"line":2,"column":4}},{"source":"qbs.js","name":"define","original":{"line":1,"column":0},"generated":{"line":2,"column":6}},{"source":"qbs.js","original":{"line":1,"column":7},"generated":{"line":2,"column":8}},{"source":"qbs.js","original":{"line":1,"column":8},"generated":{"line":2,"column":9}},{"source":"qbs.js","original":{"line":1,"column":20},"generated":{"line":2,"column":20}},{"source":"qbs.js","original":{"line":1,"column":35},"generated":{"line":2,"column":34}},{"source":"qbs.js","original":{"line":1,"column":41},"generated":{"line":2,"column":39}},{"source":"qbs.js","original":{"line":1,"column":47},"generated":{"line":2,"column":44}},{"source":"qbs.js","original":{"line":1,"column":54},"generated":{"line":2,"column":50}},{"source":"qbs.js","name":"Backbone","original":{"line":1,"column":64},"generated":{"line":2,"column":59}},{"source":"qbs.js","name":"colorbrewer","original":{"line":1,"column":74},"generated":{"line":2,"column":61}},{"source":"qbs.js","name":"dc","original":{"line":1,"column":87},"generated":{"line":2,"column":63}},{"source":"qbs.js","name":"d3","original":{"line":1,"column":91},"generated":{"line":2,"column":65}},{"source":"qbs.js","name":"qb","original":{"line":1,"column":95},"generated":{"line":2,"column":67}},{"source":"qbs.js","name":"dash","original":{"line":6,"column":4},"generated":{"line":2,"column":70}},{"source":"qbs.js","name":"dash","original":{"line":6,"column":4},"generated":{"line":2,"column":74}},{"source":"qbs.js","original":{"line":6,"column":11},"generated":{"line":2,"column":76}},{"source":"qbs.js","original":{"line":125,"column":7},"generated":{"line":2,"column":79}},{"source":"qbs.js","name":"_","original":{"line":7,"column":0},"generated":{"line":2,"column":86}},{"source":"qbs.js","name":"extend","original":{"line":7,"column":2},"generated":{"line":2,"column":88}},{"source":"qbs.js","name":"dash","original":{"line":7,"column":9},"generated":{"line":2,"column":95}},{"source":"qbs.js","original":{"line":7,"column":15},"generated":{"line":2,"column":97}},{"source":"qbs.js","name":"options","original":{"line":8,"column":1},"generated":{"line":2,"column":98}},{"source":"qbs.js","original":{"line":8,"column":10},"generated":{"line":2,"column":106}},{"source":"qbs.js","name":"el","original":{"line":8,"column":12},"generated":{"line":2,"column":107}},{"source":"qbs.js","original":{"line":8,"column":16},"generated":{"line":2,"column":110}},{"source":"qbs.js","name":"css","original":{"line":9,"column":2},"generated":{"line":2,"column":117}},{"source":"qbs.js","original":{"line":9,"column":7},"generated":{"line":2,"column":121}},{"source":"qbs.js","name":"root","original":{"line":9,"column":9},"generated":{"line":2,"column":122}},{"source":"qbs.js","original":{"line":9,"column":15},"generated":{"line":2,"column":127}},{"source":"qbs.js","name":"dash","original":{"line":9,"column":36},"generated":{"line":2,"column":147}},{"source":"qbs.js","original":{"line":9,"column":42},"generated":{"line":2,"column":152}},{"source":"qbs.js","name":"header","original":{"line":9,"column":63},"generated":{"line":2,"column":172}},{"source":"qbs.js","original":{"line":9,"column":71},"generated":{"line":2,"column":179}},{"source":"qbs.js","name":"chart","original":{"line":9,"column":84},"generated":{"line":2,"column":191}},{"source":"qbs.js","original":{"line":9,"column":91},"generated":{"line":2,"column":197}},{"source":"qbs.js","name":"_qbs","original":{"line":10,"column":4},"generated":{"line":2,"column":210}},{"source":"qbs.js","original":{"line":10,"column":10},"generated":{"line":2,"column":215}},{"source":"qbs.js","name":"init","original":{"line":12,"column":1},"generated":{"line":2,"column":218}},{"source":"qbs.js","original":{"line":12,"column":7},"generated":{"line":2,"column":223}},{"source":"qbs.js","name":"options","original":{"line":12,"column":16},"generated":{"line":2,"column":232}},{"source":"qbs.js","name":"_","original":{"line":13,"column":2},"generated":{"line":2,"column":235}},{"source":"qbs.js","name":"extend","original":{"line":13,"column":4},"generated":{"line":2,"column":237}},{"source":"qbs.js","name":"dash","original":{"line":13,"column":11},"generated":{"line":2,"column":244}},{"source":"qbs.js","name":"options","original":{"line":13,"column":16},"generated":{"line":2,"column":246}},{"source":"qbs.js","name":"options","original":{"line":13,"column":24},"generated":{"line":2,"column":254}},{"source":"qbs.js","name":"$el","original":{"line":15,"column":6},"generated":{"line":2,"column":257}},{"source":"qbs.js","name":"$el","original":{"line":15,"column":6},"generated":{"line":2,"column":261}},{"source":"qbs.js","name":"dash","original":{"line":15,"column":12},"generated":{"line":2,"column":263}},{"source":"qbs.js","name":"options","original":{"line":15,"column":17},"generated":{"line":2,"column":265}},{"source":"qbs.js","name":"el","original":{"line":15,"column":25},"generated":{"line":2,"column":273}},{"source":"qbs.js","name":"dash","original":{"line":15,"column":30},"generated":{"line":2,"column":276}},{"source":"qbs.js","name":"_createContainerElement","original":{"line":15,"column":35},"generated":{"line":2,"column":278}},{"source":"qbs.js","name":"dash","original":{"line":15,"column":59},"generated":{"line":2,"column":302}},{"source":"qbs.js","name":"options","original":{"line":15,"column":64},"generated":{"line":2,"column":304}},{"source":"qbs.js","original":{"line":63,"column":9},"generated":{"line":2,"column":313}},{"source":"qbs.js","name":"$el","original":{"line":16,"column":2},"generated":{"line":2,"column":320}},{"source":"qbs.js","name":"addClass","original":{"line":16,"column":6},"generated":{"line":2,"column":322}},{"source":"qbs.js","name":"dash","original":{"line":16,"column":15},"generated":{"line":2,"column":331}},{"source":"qbs.js","name":"options","original":{"line":16,"column":20},"generated":{"line":2,"column":333}},{"source":"qbs.js","name":"css","original":{"line":16,"column":28},"generated":{"line":2,"column":341}},{"source":"qbs.js","name":"root","original":{"line":16,"column":32},"generated":{"line":2,"column":345}},{"source":"qbs.js","name":"console","original":{"line":17,"column":2},"generated":{"line":2,"column":351}},{"source":"qbs.js","name":"log","original":{"line":17,"column":10},"generated":{"line":2,"column":359}},{"source":"qbs.js","original":{"line":17,"column":14},"generated":{"line":2,"column":363}},{"source":"qbs.js","name":"$el","original":{"line":17,"column":40},"generated":{"line":2,"column":388}},{"source":"qbs.js","name":"dash","original":{"line":17,"column":45},"generated":{"line":2,"column":390}},{"source":"qbs.js","name":"dash","original":{"line":17,"column":51},"generated":{"line":2,"column":392}},{"source":"qbs.js","name":"options","original":{"line":17,"column":56},"generated":{"line":2,"column":394}},{"source":"qbs.js","name":"_","original":{"line":19,"column":2},"generated":{"line":2,"column":403}},{"source":"qbs.js","name":"each","original":{"line":19,"column":4},"generated":{"line":2,"column":405}},{"source":"qbs.js","original":{"line":19,"column":9},"generated":{"line":2,"column":410}},{"source":"qbs.js","name":"options","original":{"line":19,"column":14},"generated":{"line":2,"column":415}},{"source":"qbs.js","name":"qbs","original":{"line":19,"column":22},"generated":{"line":2,"column":423}},{"source":"qbs.js","original":{"line":19,"column":27},"generated":{"line":2,"column":427}},{"source":"qbs.js","name":"conf","original":{"line":19,"column":36},"generated":{"line":2,"column":436}},{"source":"qbs.js","name":"dash_id","original":{"line":19,"column":42},"generated":{"line":2,"column":438}},{"source":"qbs.js","name":"conf","original":{"line":20,"column":3},"generated":{"line":2,"column":441}},{"source":"qbs.js","name":"id","original":{"line":20,"column":8},"generated":{"line":2,"column":443}},{"source":"qbs.js","name":"conf","original":{"line":20,"column":13},"generated":{"line":2,"column":446}},{"source":"qbs.js","name":"id","original":{"line":20,"column":18},"generated":{"line":2,"column":448}},{"source":"qbs.js","original":{"line":20,"column":24},"generated":{"line":2,"column":452}},{"source":"qbs.js","name":"dash_id","original":{"line":20,"column":31},"generated":{"line":2,"column":459}},{"source":"qbs.js","name":"conf","original":{"line":21,"column":3},"generated":{"line":2,"column":461}},{"source":"qbs.js","name":"el","original":{"line":21,"column":8},"generated":{"line":2,"column":463}},{"source":"qbs.js","name":"dash","original":{"line":21,"column":13},"generated":{"line":2,"column":466}},{"source":"qbs.js","name":"_createContainerElement","original":{"line":21,"column":18},"generated":{"line":2,"column":468}},{"source":"qbs.js","name":"conf","original":{"line":21,"column":42},"generated":{"line":2,"column":492}},{"source":"qbs.js","name":"$el","original":{"line":22,"column":3},"generated":{"line":2,"column":495}},{"source":"qbs.js","name":"append","original":{"line":22,"column":7},"generated":{"line":2,"column":497}},{"source":"qbs.js","name":"conf","original":{"line":22,"column":15},"generated":{"line":2,"column":504}},{"source":"qbs.js","name":"el","original":{"line":22,"column":20},"generated":{"line":2,"column":506}},{"source":"qbs.js","name":"conf","original":{"line":23,"column":3},"generated":{"line":2,"column":510}},{"source":"qbs.js","name":"el","original":{"line":23,"column":8},"generated":{"line":2,"column":512}},{"source":"qbs.js","name":"addClass","original":{"line":23,"column":11},"generated":{"line":2,"column":515}},{"source":"qbs.js","name":"dash","original":{"line":23,"column":20},"generated":{"line":2,"column":524}},{"source":"qbs.js","name":"options","original":{"line":23,"column":25},"generated":{"line":2,"column":526}},{"source":"qbs.js","name":"css","original":{"line":23,"column":33},"generated":{"line":2,"column":534}},{"source":"qbs.js","name":"dash","original":{"line":23,"column":37},"generated":{"line":2,"column":538}},{"source":"qbs.js","name":"conf","original":{"line":24,"column":7},"generated":{"line":2,"column":544}},{"source":"qbs.js","name":"header","original":{"line":24,"column":12},"generated":{"line":2,"column":546}},{"source":"qbs.js","name":"conf","original":{"line":25,"column":4},"generated":{"line":2,"column":554}},{"source":"qbs.js","name":"el","original":{"line":25,"column":9},"generated":{"line":2,"column":556}},{"source":"qbs.js","name":"append","original":{"line":25,"column":12},"generated":{"line":2,"column":559}},{"source":"qbs.js","name":"$","original":{"line":25,"column":20},"generated":{"line":2,"column":566}},{"source":"qbs.js","original":{"line":25,"column":22},"generated":{"line":2,"column":568}},{"source":"qbs.js","name":"addClass","original":{"line":25,"column":32},"generated":{"line":2,"column":578}},{"source":"qbs.js","name":"dash","original":{"line":25,"column":41},"generated":{"line":2,"column":587}},{"source":"qbs.js","name":"options","original":{"line":25,"column":46},"generated":{"line":2,"column":589}},{"source":"qbs.js","name":"css","original":{"line":25,"column":54},"generated":{"line":2,"column":597}},{"source":"qbs.js","name":"header","original":{"line":25,"column":58},"generated":{"line":2,"column":601}},{"source":"qbs.js","name":"html","original":{"line":25,"column":66},"generated":{"line":2,"column":609}},{"source":"qbs.js","name":"conf","original":{"line":25,"column":71},"generated":{"line":2,"column":614}},{"source":"qbs.js","name":"header","original":{"line":25,"column":76},"generated":{"line":2,"column":616}},{"source":"qbs.js","name":"console","original":{"line":28,"column":3},"generated":{"line":2,"column":625}},{"source":"qbs.js","name":"log","original":{"line":28,"column":11},"generated":{"line":2,"column":633}},{"source":"qbs.js","original":{"line":28,"column":15},"generated":{"line":2,"column":637}},{"source":"qbs.js","name":"dash_id","original":{"line":28,"column":30},"generated":{"line":2,"column":651}},{"source":"qbs.js","name":"conf","original":{"line":28,"column":39},"generated":{"line":2,"column":653}},{"source":"qbs.js","name":"id","original":{"line":28,"column":44},"generated":{"line":2,"column":655}},{"source":"qbs.js","name":"conf","original":{"line":28,"column":48},"generated":{"line":2,"column":658}},{"source":"qbs.js","name":"url","original":{"line":28,"column":53},"generated":{"line":2,"column":660}},{"source":"qbs.js","name":"conf","original":{"line":28,"column":58},"generated":{"line":2,"column":664}},{"source":"qbs.js","name":"responseAccessor","original":{"line":29,"column":7},"generated":{"line":2,"column":667}},{"source":"qbs.js","name":"responseAccessor","original":{"line":29,"column":7},"generated":{"line":2,"column":671}},{"source":"qbs.js","name":"conf","original":{"line":29,"column":26},"generated":{"line":2,"column":673}},{"source":"qbs.js","name":"responseAccessor","original":{"line":29,"column":31},"generated":{"line":2,"column":675}},{"source":"qbs.js","name":"dash","original":{"line":29,"column":51},"generated":{"line":2,"column":693}},{"source":"qbs.js","name":"options","original":{"line":29,"column":56},"generated":{"line":2,"column":695}},{"source":"qbs.js","name":"responseAccessor","original":{"line":29,"column":64},"generated":{"line":2,"column":703}},{"source":"qbs.js","name":"responseType","original":{"line":30,"column":7},"generated":{"line":2,"column":720}},{"source":"qbs.js","name":"conf","original":{"line":30,"column":22},"generated":{"line":2,"column":722}},{"source":"qbs.js","name":"responseType","original":{"line":30,"column":27},"generated":{"line":2,"column":724}},{"source":"qbs.js","original":{"line":30,"column":43},"generated":{"line":2,"column":738}},{"source":"qbs.js","name":"conf","original":{"line":33,"column":7},"generated":{"line":2,"column":745}},{"source":"qbs.js","name":"url","original":{"line":33,"column":12},"generated":{"line":2,"column":747}},{"source":"qbs.js","name":"d3","original":{"line":33,"column":19},"generated":{"line":2,"column":752}},{"source":"qbs.js","name":"responseType","original":{"line":33,"column":22},"generated":{"line":2,"column":754}},{"source":"qbs.js","name":"d3","original":{"line":35,"column":4},"generated":{"line":2,"column":758}},{"source":"qbs.js","name":"responseType","original":{"line":35,"column":7},"generated":{"line":2,"column":760}},{"source":"qbs.js","name":"conf","original":{"line":35,"column":21},"generated":{"line":2,"column":763}},{"source":"qbs.js","name":"url","original":{"line":35,"column":26},"generated":{"line":2,"column":765}},{"source":"qbs.js","original":{"line":35,"column":31},"generated":{"line":2,"column":769}},{"source":"qbs.js","name":"response","original":{"line":35,"column":40},"generated":{"line":2,"column":778}},{"source":"qbs.js","name":"data","original":{"line":36,"column":9},"generated":{"line":2,"column":781}},{"source":"qbs.js","name":"data","original":{"line":36,"column":9},"generated":{"line":2,"column":785}},{"source":"qbs.js","name":"responseAccessor","original":{"line":36,"column":16},"generated":{"line":2,"column":787}},{"source":"qbs.js","name":"responseAccessor","original":{"line":36,"column":33},"generated":{"line":2,"column":789}},{"source":"qbs.js","name":"response","original":{"line":36,"column":50},"generated":{"line":2,"column":791}},{"source":"qbs.js","name":"response","original":{"line":36,"column":60},"generated":{"line":2,"column":794}},{"source":"qbs.js","name":"console","original":{"line":37,"column":5},"generated":{"line":2,"column":796}},{"source":"qbs.js","name":"log","original":{"line":37,"column":13},"generated":{"line":2,"column":804}},{"source":"qbs.js","original":{"line":37,"column":17},"generated":{"line":2,"column":808}},{"source":"qbs.js","name":"conf","original":{"line":37,"column":34},"generated":{"line":2,"column":824}},{"source":"qbs.js","name":"id","original":{"line":37,"column":39},"generated":{"line":2,"column":826}},{"source":"qbs.js","name":"data","original":{"line":37,"column":43},"generated":{"line":2,"column":829}},{"source":"qbs.js","name":"_qb","original":{"line":40,"column":9},"generated":{"line":2,"column":832}},{"source":"qbs.js","name":"_qb","original":{"line":40,"column":9},"generated":{"line":2,"column":836}},{"source":"qbs.js","name":"dash","original":{"line":40,"column":15},"generated":{"line":2,"column":838}},{"source":"qbs.js","name":"register","original":{"line":40,"column":20},"generated":{"line":2,"column":840}},{"source":"qbs.js","name":"qb","original":{"line":40,"column":29},"generated":{"line":2,"column":849}},{"source":"qbs.js","name":"conf","original":{"line":40,"column":32},"generated":{"line":2,"column":852}},{"source":"qbs.js","name":"id","original":{"line":40,"column":37},"generated":{"line":2,"column":854}},{"source":"qbs.js","name":"conf","original":{"line":40,"column":41},"generated":{"line":2,"column":857}},{"source":"qbs.js","name":"_qb","original":{"line":41,"column":5},"generated":{"line":2,"column":860}},{"source":"qbs.js","name":"load","original":{"line":41,"column":9},"generated":{"line":2,"column":862}},{"source":"qbs.js","name":"data","original":{"line":41,"column":14},"generated":{"line":2,"column":867}},{"source":"qbs.js","name":"_","original":{"line":44,"column":5},"generated":{"line":2,"column":870}},{"source":"qbs.js","name":"each","original":{"line":44,"column":7},"generated":{"line":2,"column":872}},{"source":"qbs.js","name":"conf","original":{"line":44,"column":12},"generated":{"line":2,"column":877}},{"source":"qbs.js","name":"charts","original":{"line":44,"column":17},"generated":{"line":2,"column":879}},{"source":"qbs.js","original":{"line":44,"column":25},"generated":{"line":2,"column":886}},{"source":"qbs.js","name":"chart_conf","original":{"line":44,"column":34},"generated":{"line":2,"column":895}},{"source":"qbs.js","name":"chart_id","original":{"line":44,"column":46},"generated":{"line":2,"column":897}},{"source":"qbs.js","name":"chart_conf","original":{"line":45,"column":6},"generated":{"line":2,"column":900}},{"source":"qbs.js","name":"id","original":{"line":45,"column":17},"generated":{"line":2,"column":902}},{"source":"qbs.js","name":"chart_conf","original":{"line":45,"column":22},"generated":{"line":2,"column":905}},{"source":"qbs.js","name":"id","original":{"line":45,"column":33},"generated":{"line":2,"column":907}},{"source":"qbs.js","original":{"line":45,"column":39},"generated":{"line":2,"column":911}},{"source":"qbs.js","name":"dash_id","original":{"line":45,"column":46},"generated":{"line":2,"column":918}},{"source":"qbs.js","original":{"line":45,"column":54},"generated":{"line":2,"column":920}},{"source":"qbs.js","name":"chart_id","original":{"line":45,"column":58},"generated":{"line":2,"column":924}},{"source":"qbs.js","name":"chart_conf","original":{"line":46,"column":6},"generated":{"line":2,"column":926}},{"source":"qbs.js","name":"el","original":{"line":46,"column":17},"generated":{"line":2,"column":928}},{"source":"qbs.js","name":"dash","original":{"line":46,"column":22},"generated":{"line":2,"column":931}},{"source":"qbs.js","name":"_createContainerElement","original":{"line":46,"column":27},"generated":{"line":2,"column":933}},{"source":"qbs.js","name":"chart_conf","original":{"line":46,"column":51},"generated":{"line":2,"column":957}},{"source":"qbs.js","name":"chart_conf","original":{"line":47,"column":6},"generated":{"line":2,"column":960}},{"source":"qbs.js","name":"el","original":{"line":47,"column":17},"generated":{"line":2,"column":962}},{"source":"qbs.js","name":"addClass","original":{"line":47,"column":20},"generated":{"line":2,"column":965}},{"source":"qbs.js","name":"dash","original":{"line":47,"column":29},"generated":{"line":2,"column":974}},{"source":"qbs.js","name":"options","original":{"line":47,"column":34},"generated":{"line":2,"column":976}},{"source":"qbs.js","name":"css","original":{"line":47,"column":42},"generated":{"line":2,"column":984}},{"source":"qbs.js","name":"chart","original":{"line":47,"column":46},"generated":{"line":2,"column":988}},{"source":"qbs.js","name":"conf","original":{"line":48,"column":6},"generated":{"line":2,"column":995}},{"source":"qbs.js","name":"el","original":{"line":48,"column":11},"generated":{"line":2,"column":997}},{"source":"qbs.js","name":"append","original":{"line":48,"column":14},"generated":{"line":2,"column":1000}},{"source":"qbs.js","name":"chart_conf","original":{"line":48,"column":22},"generated":{"line":2,"column":1007}},{"source":"qbs.js","name":"el","original":{"line":48,"column":33},"generated":{"line":2,"column":1009}},{"source":"qbs.js","name":"chart","original":{"line":49,"column":10},"generated":{"line":2,"column":1013}},{"source":"qbs.js","name":"chart","original":{"line":49,"column":10},"generated":{"line":2,"column":1017}},{"source":"qbs.js","name":"_qb","original":{"line":49,"column":18},"generated":{"line":2,"column":1019}},{"source":"qbs.js","name":"draw","original":{"line":49,"column":22},"generated":{"line":2,"column":1021}},{"source":"qbs.js","name":"chart_conf","original":{"line":49,"column":27},"generated":{"line":2,"column":1026}},{"source":"qbs.js","name":"type","original":{"line":49,"column":38},"generated":{"line":2,"column":1028}},{"source":"qbs.js","name":"chart_conf","original":{"line":49,"column":44},"generated":{"line":2,"column":1033}},{"source":"qbs.js","name":"conf","original":{"line":50,"column":10},"generated":{"line":2,"column":1036}},{"source":"qbs.js","name":"conf","original":{"line":50,"column":10},"generated":{"line":2,"column":1039}},{"source":"qbs.js","name":"filters","original":{"line":50,"column":15},"generated":{"line":2,"column":1041}},{"source":"qbs.js","name":"_","original":{"line":50,"column":26},"generated":{"line":2,"column":1050}},{"source":"qbs.js","name":"isString","original":{"line":50,"column":28},"generated":{"line":2,"column":1052}},{"source":"qbs.js","name":"chart_conf","original":{"line":50,"column":37},"generated":{"line":2,"column":1061}},{"source":"qbs.js","name":"dimension","original":{"line":50,"column":48},"generated":{"line":2,"column":1063}},{"source":"qbs.js","original":{"line":50,"column":60},"generated":{"line":2,"column":1074}},{"source":"qbs.js","name":"filters","original":{"line":51,"column":11},"generated":{"line":2,"column":1075}},{"source":"qbs.js","name":"filters","original":{"line":51,"column":11},"generated":{"line":2,"column":1079}},{"source":"qbs.js","name":"conf","original":{"line":51,"column":21},"generated":{"line":2,"column":1081}},{"source":"qbs.js","name":"filters","original":{"line":51,"column":26},"generated":{"line":2,"column":1083}},{"source":"qbs.js","name":"chart_conf","original":{"line":51,"column":34},"generated":{"line":2,"column":1091}},{"source":"qbs.js","name":"dimension","original":{"line":51,"column":45},"generated":{"line":2,"column":1093}},{"source":"qbs.js","name":"_","original":{"line":52,"column":7},"generated":{"line":2,"column":1104}},{"source":"qbs.js","name":"each","original":{"line":52,"column":9},"generated":{"line":2,"column":1106}},{"source":"qbs.js","name":"filters","original":{"line":52,"column":14},"generated":{"line":2,"column":1111}},{"source":"qbs.js","original":{"line":52,"column":23},"generated":{"line":2,"column":1113}},{"source":"qbs.js","name":"filter","original":{"line":52,"column":32},"generated":{"line":2,"column":1122}},{"source":"qbs.js","name":"chart","original":{"line":53,"column":8},"generated":{"line":2,"column":1125}},{"source":"qbs.js","name":"filter","original":{"line":53,"column":14},"generated":{"line":2,"column":1127}},{"source":"qbs.js","name":"filter","original":{"line":53,"column":21},"generated":{"line":2,"column":1134}},{"source":"qbs.js","name":"console","original":{"line":55,"column":7},"generated":{"line":2,"column":1139}},{"source":"qbs.js","name":"log","original":{"line":55,"column":15},"generated":{"line":2,"column":1147}},{"source":"qbs.js","original":{"line":55,"column":19},"generated":{"line":2,"column":1151}},{"source":"qbs.js","name":"chart_conf","original":{"line":55,"column":38},"generated":{"line":2,"column":1169}},{"source":"qbs.js","name":"id","original":{"line":55,"column":49},"generated":{"line":2,"column":1171}},{"source":"qbs.js","name":"filters","original":{"line":55,"column":53},"generated":{"line":2,"column":1174}},{"source":"qbs.js","name":"_qb","original":{"line":58,"column":5},"generated":{"line":2,"column":1180}},{"source":"qbs.js","name":"render","original":{"line":58,"column":9},"generated":{"line":2,"column":1182}},{"source":"qbs.js","original":{"line":63,"column":9},"generated":{"line":2,"column":1195}},{"source":"qbs.js","name":"qb","original":{"line":65,"column":1},"generated":{"line":2,"column":1201}},{"source":"qbs.js","original":{"line":65,"column":5},"generated":{"line":2,"column":1204}},{"source":"qbs.js","name":"qb_id","original":{"line":65,"column":14},"generated":{"line":2,"column":1213}},{"source":"qbs.js","original":{"line":66,"column":7},"generated":{"line":2,"column":1216}},{"source":"qbs.js","name":"qb_id","original":{"line":66,"column":8},"generated":{"line":2,"column":1220}},{"source":"qbs.js","original":{"line":66,"column":15},"generated":{"line":2,"column":1222}},{"source":"qbs.js","original":{"line":66,"column":21},"generated":{"line":2,"column":1227}},{"source":"qbs.js","name":"dash_qb","original":{"line":67,"column":6},"generated":{"line":2,"column":1247}},{"source":"qbs.js","name":"dash_qb","original":{"line":67,"column":6},"generated":{"line":2,"column":1251}},{"source":"qbs.js","name":"dash","original":{"line":67,"column":16},"generated":{"line":2,"column":1253}},{"source":"qbs.js","name":"_qbs","original":{"line":67,"column":21},"generated":{"line":2,"column":1255}},{"source":"qbs.js","name":"qb_id","original":{"line":67,"column":26},"generated":{"line":2,"column":1260}},{"source":"qbs.js","original":{"line":68,"column":7},"generated":{"line":2,"column":1263}},{"source":"qbs.js","name":"dash_qb","original":{"line":68,"column":8},"generated":{"line":2,"column":1267}},{"source":"qbs.js","original":{"line":68,"column":17},"generated":{"line":2,"column":1269}},{"source":"qbs.js","original":{"line":68,"column":23},"generated":{"line":2,"column":1274}},{"source":"qbs.js","name":"qb_id","original":{"line":68,"column":42},"generated":{"line":2,"column":1293}},{"source":"qbs.js","name":"dash_qb","original":{"line":69,"column":10},"generated":{"line":2,"column":1295}},{"source":"qbs.js","name":"dash_qb","original":{"line":69,"column":10},"generated":{"line":2,"column":1302}},{"source":"qbs.js","name":"register","original":{"line":71,"column":2},"generated":{"line":2,"column":1305}},{"source":"qbs.js","original":{"line":71,"column":12},"generated":{"line":2,"column":1314}},{"source":"qbs.js","name":"qb","original":{"line":72,"column":2},"generated":{"line":2,"column":1315}},{"source":"qbs.js","original":{"line":72,"column":6},"generated":{"line":2,"column":1318}},{"source":"qbs.js","name":"qb_id","original":{"line":72,"column":15},"generated":{"line":2,"column":1327}},{"source":"qbs.js","name":"dash_conf","original":{"line":72,"column":22},"generated":{"line":2,"column":1329}},{"source":"qbs.js","original":{"line":73,"column":7},"generated":{"line":2,"column":1332}},{"source":"qbs.js","name":"qb_id","original":{"line":73,"column":8},"generated":{"line":2,"column":1336}},{"source":"qbs.js","original":{"line":73,"column":15},"generated":{"line":2,"column":1338}},{"source":"qbs.js","original":{"line":73,"column":21},"generated":{"line":2,"column":1343}},{"source":"qbs.js","original":{"line":74,"column":7},"generated":{"line":2,"column":1373}},{"source":"qbs.js","name":"dash_conf","original":{"line":74,"column":8},"generated":{"line":2,"column":1377}},{"source":"qbs.js","original":{"line":74,"column":19},"generated":{"line":2,"column":1379}},{"source":"qbs.js","original":{"line":74,"column":25},"generated":{"line":2,"column":1384}},{"source":"qbs.js","name":"dash","original":{"line":75,"column":3},"generated":{"line":2,"column":1418}},{"source":"qbs.js","name":"_qbs","original":{"line":75,"column":8},"generated":{"line":2,"column":1420}},{"source":"qbs.js","name":"qb_id","original":{"line":75,"column":13},"generated":{"line":2,"column":1425}},{"source":"qbs.js","name":"qb","original":{"line":75,"column":22},"generated":{"line":2,"column":1428}},{"source":"qbs.js","name":"dash_conf","original":{"line":75,"column":25},"generated":{"line":2,"column":1430}},{"source":"qbs.js","name":"_qb","original":{"line":78,"column":7},"generated":{"line":2,"column":1433}},{"source":"qbs.js","name":"_qb","original":{"line":78,"column":7},"generated":{"line":2,"column":1437}},{"source":"qbs.js","name":"dash","original":{"line":78,"column":13},"generated":{"line":2,"column":1439}},{"source":"qbs.js","name":"qb","original":{"line":78,"column":18},"generated":{"line":2,"column":1441}},{"source":"qbs.js","name":"qb_id","original":{"line":78,"column":21},"generated":{"line":2,"column":1444}},{"source":"qbs.js","name":"_qb","original":{"line":85,"column":10},"generated":{"line":2,"column":1447}},{"source":"qbs.js","name":"console","original":{"line":79,"column":3},"generated":{"line":2,"column":1454}},{"source":"qbs.js","name":"log","original":{"line":79,"column":11},"generated":{"line":2,"column":1462}},{"source":"qbs.js","original":{"line":79,"column":15},"generated":{"line":2,"column":1466}},{"source":"qbs.js","name":"qb_id","original":{"line":79,"column":36},"generated":{"line":2,"column":1486}},{"source":"qbs.js","name":"_qb","original":{"line":79,"column":43},"generated":{"line":2,"column":1488}},{"source":"qbs.js","name":"_","original":{"line":82,"column":3},"generated":{"line":2,"column":1491}},{"source":"qbs.js","name":"each","original":{"line":82,"column":5},"generated":{"line":2,"column":1493}},{"source":"qbs.js","name":"dash","original":{"line":82,"column":10},"generated":{"line":2,"column":1498}},{"source":"qbs.js","name":"options","original":{"line":82,"column":15},"generated":{"line":2,"column":1500}},{"source":"qbs.js","name":"labels","original":{"line":82,"column":23},"generated":{"line":2,"column":1508}},{"source":"qbs.js","original":{"line":82,"column":31},"generated":{"line":2,"column":1515}},{"source":"qbs.js","name":"labels","original":{"line":82,"column":40},"generated":{"line":2,"column":1524}},{"source":"qbs.js","name":"label_id","original":{"line":82,"column":48},"generated":{"line":2,"column":1526}},{"source":"qbs.js","name":"_qb","original":{"line":83,"column":4},"generated":{"line":2,"column":1529}},{"source":"qbs.js","name":"register","original":{"line":83,"column":8},"generated":{"line":2,"column":1531}},{"source":"qbs.js","name":"labels","original":{"line":83,"column":17},"generated":{"line":2,"column":1540}},{"source":"qbs.js","name":"label_id","original":{"line":83,"column":24},"generated":{"line":2,"column":1547}},{"source":"qbs.js","name":"labels","original":{"line":83,"column":34},"generated":{"line":2,"column":1549}},{"source":"qbs.js","name":"_qb","original":{"line":85,"column":10},"generated":{"line":2,"column":1554}},{"source":"qbs.js","name":"chart","original":{"line":89,"column":1},"generated":{"line":2,"column":1558}},{"source":"qbs.js","original":{"line":89,"column":9},"generated":{"line":2,"column":1564}},{"source":"qbs.js","name":"qb_id","original":{"line":89,"column":18},"generated":{"line":2,"column":1573}},{"source":"qbs.js","name":"type","original":{"line":89,"column":25},"generated":{"line":2,"column":1575}},{"source":"qbs.js","name":"slice","original":{"line":89,"column":31},"generated":{"line":2,"column":1577}},{"source":"qbs.js","name":"lazy","original":{"line":89,"column":38},"generated":{"line":2,"column":1579}},{"source":"qbs.js","name":"_qb","original":{"line":90,"column":6},"generated":{"line":2,"column":1582}},{"source":"qbs.js","name":"_qb","original":{"line":90,"column":6},"generated":{"line":2,"column":1586}},{"source":"qbs.js","name":"dash","original":{"line":90,"column":12},"generated":{"line":2,"column":1588}},{"source":"qbs.js","name":"qb","original":{"line":90,"column":17},"generated":{"line":2,"column":1590}},{"source":"qbs.js","name":"qb_id","original":{"line":90,"column":20},"generated":{"line":2,"column":1593}},{"source":"qbs.js","name":"chart","original":{"line":91,"column":6},"generated":{"line":2,"column":1596}},{"source":"qbs.js","name":"_qb","original":{"line":91,"column":14},"generated":{"line":2,"column":1598}},{"source":"qbs.js","name":"draw","original":{"line":91,"column":18},"generated":{"line":2,"column":1600}},{"source":"qbs.js","name":"type","original":{"line":91,"column":23},"generated":{"line":2,"column":1605}},{"source":"qbs.js","name":"slice","original":{"line":91,"column":29},"generated":{"line":2,"column":1607}},{"source":"qbs.js","name":"lazy","original":{"line":91,"column":36},"generated":{"line":2,"column":1609}},{"source":"qbs.js","name":"chart","original":{"line":93,"column":9},"generated":{"line":2,"column":1612}},{"source":"qbs.js","name":"console","original":{"line":92,"column":0},"generated":{"line":2,"column":1619}},{"source":"qbs.js","name":"log","original":{"line":92,"column":8},"generated":{"line":2,"column":1627}},{"source":"qbs.js","original":{"line":92,"column":12},"generated":{"line":2,"column":1631}},{"source":"qbs.js","name":"chart","original":{"line":92,"column":28},"generated":{"line":2,"column":1646}},{"source":"qbs.js","name":"qb_id","original":{"line":92,"column":35},"generated":{"line":2,"column":1648}},{"source":"qbs.js","name":"_qb","original":{"line":92,"column":42},"generated":{"line":2,"column":1650}},{"source":"qbs.js","name":"type","original":{"line":92,"column":47},"generated":{"line":2,"column":1652}},{"source":"qbs.js","name":"slice","original":{"line":92,"column":53},"generated":{"line":2,"column":1654}},{"source":"qbs.js","name":"lazy","original":{"line":92,"column":60},"generated":{"line":2,"column":1656}},{"source":"qbs.js","name":"chart","original":{"line":93,"column":9},"generated":{"line":2,"column":1659}},{"source":"qbs.js","name":"render","original":{"line":96,"column":1},"generated":{"line":2,"column":1662}},{"source":"qbs.js","original":{"line":96,"column":9},"generated":{"line":2,"column":1669}},{"source":"qbs.js","name":"_","original":{"line":97,"column":2},"generated":{"line":2,"column":1680}},{"source":"qbs.js","name":"each","original":{"line":97,"column":4},"generated":{"line":2,"column":1682}},{"source":"qbs.js","name":"dash","original":{"line":97,"column":9},"generated":{"line":2,"column":1687}},{"source":"qbs.js","name":"_qbs","original":{"line":97,"column":14},"generated":{"line":2,"column":1689}},{"source":"qbs.js","original":{"line":97,"column":20},"generated":{"line":2,"column":1694}},{"source":"qbs.js","name":"_qb","original":{"line":97,"column":29},"generated":{"line":2,"column":1703}},{"source":"qbs.js","name":"_qb","original":{"line":98,"column":3},"generated":{"line":2,"column":1706}},{"source":"qbs.js","name":"reset","original":{"line":98,"column":7},"generated":{"line":2,"column":1708}},{"source":"qbs.js","name":"_renderQBs","original":{"line":102,"column":1},"generated":{"line":2,"column":1719}},{"source":"qbs.js","original":{"line":102,"column":13},"generated":{"line":2,"column":1730}},{"source":"qbs.js","name":"el","original":{"line":102,"column":22},"generated":{"line":2,"column":1739}},{"source":"qbs.js","original":{"line":112,"column":9},"generated":{"line":2,"column":1742}},{"source":"qbs.js","name":"$","original":{"line":103,"column":2},"generated":{"line":2,"column":1749}},{"source":"qbs.js","original":{"line":103,"column":4},"generated":{"line":2,"column":1751}},{"source":"qbs.js","name":"$","original":{"line":103,"column":16},"generated":{"line":2,"column":1763}},{"source":"qbs.js","name":"el","original":{"line":103,"column":18},"generated":{"line":2,"column":1765}},{"source":"qbs.js","name":"each","original":{"line":103,"column":23},"generated":{"line":2,"column":1769}},{"source":"qbs.js","original":{"line":103,"column":28},"generated":{"line":2,"column":1774}},{"source":"qbs.js","name":"slice","original":{"line":104,"column":7},"generated":{"line":2,"column":1785}},{"source":"qbs.js","name":"slice","original":{"line":104,"column":7},"generated":{"line":2,"column":1789}},{"source":"qbs.js","name":"$","original":{"line":104,"column":15},"generated":{"line":2,"column":1791}},{"source":"qbs.js","original":{"line":104,"column":17},"generated":{"line":2,"column":1793}},{"source":"qbs.js","name":"data","original":{"line":104,"column":23},"generated":{"line":2,"column":1799}},{"source":"qbs.js","name":"qb_id","original":{"line":105,"column":7},"generated":{"line":2,"column":1806}},{"source":"qbs.js","name":"slice","original":{"line":105,"column":15},"generated":{"line":2,"column":1808}},{"source":"qbs.js","name":"qb","original":{"line":105,"column":21},"generated":{"line":2,"column":1810}},{"source":"qbs.js","name":"dash_qb","original":{"line":106,"column":7},"generated":{"line":2,"column":1813}},{"source":"qbs.js","name":"dash","original":{"line":106,"column":17},"generated":{"line":2,"column":1815}},{"source":"qbs.js","name":"qb","original":{"line":106,"column":22},"generated":{"line":2,"column":1817}},{"source":"qbs.js","name":"qb_id","original":{"line":106,"column":25},"generated":{"line":2,"column":1820}},{"source":"qbs.js","name":"dash_qb","original":{"line":107,"column":7},"generated":{"line":2,"column":1823}},{"source":"qbs.js","name":"slice","original":{"line":107,"column":16},"generated":{"line":2,"column":1826}},{"source":"qbs.js","name":"type","original":{"line":107,"column":22},"generated":{"line":2,"column":1828}},{"source":"qbs.js","name":"slice","original":{"line":107,"column":28},"generated":{"line":2,"column":1834}},{"source":"qbs.js","name":"measure","original":{"line":107,"column":34},"generated":{"line":2,"column":1836}},{"source":"qbs.js","name":"slice","original":{"line":107,"column":43},"generated":{"line":2,"column":1845}},{"source":"qbs.js","name":"dimension","original":{"line":107,"column":49},"generated":{"line":2,"column":1847}},{"source":"qbs.js","name":"slice","original":{"line":108,"column":4},"generated":{"line":2,"column":1859}},{"source":"qbs.js","name":"el","original":{"line":108,"column":10},"generated":{"line":2,"column":1861}},{"source":"qbs.js","name":"$","original":{"line":108,"column":15},"generated":{"line":2,"column":1864}},{"source":"qbs.js","original":{"line":108,"column":17},"generated":{"line":2,"column":1866}},{"source":"qbs.js","name":"dash_qb","original":{"line":109,"column":4},"generated":{"line":2,"column":1872}},{"source":"qbs.js","name":"draw","original":{"line":109,"column":12},"generated":{"line":2,"column":1874}},{"source":"qbs.js","name":"slice","original":{"line":109,"column":17},"generated":{"line":2,"column":1879}},{"source":"qbs.js","name":"type","original":{"line":109,"column":23},"generated":{"line":2,"column":1881}},{"source":"qbs.js","name":"slice","original":{"line":109,"column":29},"generated":{"line":2,"column":1886}},{"source":"qbs.js","original":{"line":112,"column":9},"generated":{"line":2,"column":1892}},{"source":"qbs.js","name":"_createContainerElement","original":{"line":115,"column":1},"generated":{"line":2,"column":1898}},{"source":"qbs.js","original":{"line":115,"column":26},"generated":{"line":2,"column":1922}},{"source":"qbs.js","name":"conf","original":{"line":115,"column":35},"generated":{"line":2,"column":1931}},{"source":"qbs.js","name":"$el","original":{"line":116,"column":6},"generated":{"line":2,"column":1934}},{"source":"qbs.js","name":"$el","original":{"line":116,"column":6},"generated":{"line":2,"column":1938}},{"source":"qbs.js","name":"conf","original":{"line":116,"column":12},"generated":{"line":2,"column":1940}},{"source":"qbs.js","name":"el","original":{"line":116,"column":17},"generated":{"line":2,"column":1942}},{"source":"qbs.js","name":"$","original":{"line":116,"column":23},"generated":{"line":2,"column":1946}},{"source":"qbs.js","name":"conf","original":{"line":116,"column":25},"generated":{"line":2,"column":1948}},{"source":"qbs.js","name":"el","original":{"line":116,"column":30},"generated":{"line":2,"column":1950}},{"source":"qbs.js","name":"$el","original":{"line":122,"column":9},"generated":{"line":2,"column":1954}},{"source":"qbs.js","name":"$el","original":{"line":117,"column":7},"generated":{"line":2,"column":1961}},{"source":"qbs.js","name":"$el","original":{"line":117,"column":15},"generated":{"line":2,"column":1964}},{"source":"qbs.js","name":"length","original":{"line":117,"column":19},"generated":{"line":2,"column":1966}},{"source":"qbs.js","name":"$el","original":{"line":118,"column":3},"generated":{"line":2,"column":1975}},{"source":"qbs.js","name":"$","original":{"line":118,"column":9},"generated":{"line":2,"column":1977}},{"source":"qbs.js","original":{"line":118,"column":11},"generated":{"line":2,"column":1979}},{"source":"qbs.js","name":"conf","original":{"line":119,"column":3},"generated":{"line":2,"column":1989}},{"source":"qbs.js","name":"id","original":{"line":119,"column":8},"generated":{"line":2,"column":1991}},{"source":"qbs.js","name":"$el","original":{"line":119,"column":14},"generated":{"line":2,"column":1995}},{"source":"qbs.js","name":"attr","original":{"line":119,"column":18},"generated":{"line":2,"column":1997}},{"source":"qbs.js","original":{"line":119,"column":23},"generated":{"line":2,"column":2002}},{"source":"qbs.js","name":"conf","original":{"line":119,"column":29},"generated":{"line":2,"column":2007}},{"source":"qbs.js","name":"id","original":{"line":119,"column":34},"generated":{"line":2,"column":2009}},{"source":"qbs.js","name":"$el","original":{"line":122,"column":9},"generated":{"line":2,"column":2014}},{"source":"qbs.js","original":{"line":125,"column":7},"generated":{"line":2,"column":2019}},{"source":"qbs.js","name":"options","original":{"line":125,"column":16},"generated":{"line":2,"column":2028}},{"source":"qbs.js","name":"dash","original":{"line":127,"column":11},"generated":{"line":2,"column":2031}},{"source":"qbs.js","name":"console","original":{"line":126,"column":4},"generated":{"line":2,"column":2038}},{"source":"qbs.js","name":"log","original":{"line":126,"column":12},"generated":{"line":2,"column":2046}},{"source":"qbs.js","original":{"line":126,"column":16},"generated":{"line":2,"column":2050}},{"source":"qbs.js","name":"dc","original":{"line":126,"column":34},"generated":{"line":2,"column":2067}},{"source":"qbs.js","name":"dash","original":{"line":126,"column":38},"generated":{"line":2,"column":2069}},{"source":"qbs.js","name":"options","original":{"line":126,"column":44},"generated":{"line":2,"column":2071}},{"source":"qbs.js","name":"dash","original":{"line":127,"column":11},"generated":{"line":2,"column":2074}},{"source":"qbs.js","name":"init","original":{"line":127,"column":16},"generated":{"line":2,"column":2076}},{"source":"qbs.js","name":"options","original":{"line":127,"column":21},"generated":{"line":2,"column":2081}}],"sources":{"qbs.js":"define([\"backbone\", \"colorbrewer\", \"dc\", \"d3\", \"qb\"], function (Backbone, colorbrewer, dc, d3, qb) {\n\n\t/**\n\t * Initialize and render a set of QBs\n\t */\nvar dash = {}\n_.extend(dash, {\n\toptions: { el: \"body\",\n\t\tcss: { root: \"qb-root container\", dash: \"qb-dash container\", header: \"qb-header\", chart: \"qb-chart\" }\n\t}, _qbs: {},\n\n\tinit: function(options) {\n\t\t_.extend(dash.options,options);\n\n\t\tvar $el = dash.options.el = dash._createContainerElement(dash.options)\n\t\t$el.addClass(dash.options.css.root);\n\t\tconsole.log(\"Loaded QBS(): %o %o %o\", $el, dash, dash.options)\n\n\t\t_.each(this.options.qbs, function(conf, dash_id) {\n\t\t\tconf.id = conf.id || \"qbd_\"+dash_id\n\t\t\tconf.el = dash._createContainerElement(conf)\n\t\t\t$el.append( conf.el );\n\t\t\tconf.el.addClass(dash.options.css.dash);\n\t\t\tif (conf.header) {\n\t\t\t\tconf.el.append( $(\"<div/>\").addClass(dash.options.css.header).html(conf.header) )\n\t\t\t}\n\n\t\t\tconsole.log(\"Dashboard: \", dash_id, conf.id, conf.url, conf)\n\t\t\tvar responseAccessor = conf.responseAccessor || dash.options.responseAccessor\n\t\t\tvar responseType = conf.responseType || \"json\"\n\n\t\t\t// ask the data source\n\t\t\tif (conf.url && d3[responseType]) {\n\t\t\t\t// TODO: optimise re-use of data sources\n\t\t\t\td3[responseType](conf.url, function(response) {\n\t\t\t\t\tvar data = responseAccessor?responseAccessor(response):response\n\t\t\t\t\tconsole.log(\"Loaded data: \", conf.id, data)\n\n\t\t\t\t\t// register() and load() data into qb(), finally .. render()\n\t\t\t\t\tvar _qb = dash.register.qb(conf.id, conf)\n\t\t\t\t\t_qb.load(data)\n\n\t\t\t\t\t// draw all configured charts\n\t\t\t\t\t_.each(conf.charts, function(chart_conf, chart_id) {\n\t\t\t\t\t\tchart_conf.id = chart_conf.id || \"qbd-\"+dash_id+\"_\"+chart_id\n\t\t\t\t\t\tchart_conf.el = dash._createContainerElement(chart_conf);\n\t\t\t\t\t\tchart_conf.el.addClass(dash.options.css.chart);\n\t\t\t\t\t\tconf.el.append( chart_conf.el )\n\t\t\t\t\t\tvar chart = _qb.draw(chart_conf.type, chart_conf)\n\t\t\t\t\t\tif (conf.filters && _.isString(chart_conf.dimension)) {\n\t\t\t\t\t\t\tvar filters = conf.filters[chart_conf.dimension];\n\t\t\t\t\t\t\t_.each(filters, function(filter) {\n\t\t\t\t\t\t\t\tchart.filter(filter)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tconsole.log(\"preset-filter: \", chart_conf.id, filters)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t_qb.render()\n\t\t\t\t})\n\t\t\t}\n\n\t\t});\n\t\treturn this;\n\t},\n\tqb: function(qb_id) {\n \t\tif (!qb_id) throw \"dash:qb:anonymous\"\n\t\tvar dash_qb = dash._qbs[qb_id]\n \t\tif (!dash_qb) throw \"dash:qb:missing#\"+qb_id\n \t\treturn dash_qb\n \t},\n \tregister: {\n\t\tqb: function(qb_id, dash_conf) {\n\t\t\tif (!qb_id) throw \"dash:register:qb:missing:id\"\n\t\t\tif (!dash_conf) throw \"dash:register:qb:missing:config\"\n\t\t\tdash._qbs[qb_id] = qb(dash_conf)\n\n\t\t\t// safely get our new qb()\n\t\t\tvar _qb = dash.qb(qb_id)\n\t\t\tconsole.log(\"registered qb(): \", qb_id, _qb)\n\n\t\t\t// global labels\n\t\t\t_.each(dash.options.labels, function(labels, label_id) {\n\t\t\t\t_qb.register.labels(label_id, labels)\n\t\t\t})\n\t\t\treturn _qb\n\t\t},\n\t},\n\n\tchart : function(qb_id, type, slice, lazy) {\n\t\tvar _qb = dash.qb(qb_id)\n\t\tvar chart = _qb.draw(type, slice, lazy)\nconsole.log(\"dash chart()\", chart, qb_id, _qb, type, slice, lazy)\n\t\treturn chart;\n\t},\n\n\trender: function() {\n\t\t_.each(dash._qbs, function(_qb) {\n\t\t\t_qb.reset();\n\t\t});\n\t},\n\n\t_renderQBs: function(el) {\n\t\t$(\"[data-qb]\",$(el)).each(function() {\n\t\t\tvar slice = $(this).data();\n\t\t\tvar qb_id = slice.qb;\n\t\t\tvar dash_qb = dash.qb(qb_id)\n\t\t\tif (dash_qb&&slice.type&&slice.measure&&slice.dimension) {\n\t\t\t\tslice.el = $(this)\n\t\t\t\tdash_qb.draw(slice.type, slice);\n\t\t\t}\n\t\t});\n\t\treturn this;\n\t},\n\n\t_createContainerElement: function(conf) {\n\t\tvar $el = conf.el && $(conf.el);\n\t\tif (!$el || !$el.length) {\n\t\t\t$el = $(\"<div/>\");\n\t\t\tconf.id && $el.attr(\"id\", conf.id)\n\t\t}\n\n\t\treturn $el;\n\t}\n});\nreturn function(options) {\n    console.log(\"New Dashboard:\", dc, dash, options);\n    return dash.init(options)\n}\n\n});\n"},"lineCount":null}},"error":null,"hash":"cb914f14d555b081854b60aaa61c015c","cacheData":{"env":{}}}